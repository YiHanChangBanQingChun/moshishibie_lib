A = reshape(1:100, 10, 10);
TL = A(1:3, 1:3);
TR = A(1:3, 8:10);
BL = A(8:10, 1:3);
BR = A(8:10, 8:10);
B = [TL, TR; BL, BR];
C = B([1:3, 5:6], :);
TMP = linspace(2, 12, 5)';
D = [C(:, 1:3), TMP, C(:, 4:end)];
END = D * D'